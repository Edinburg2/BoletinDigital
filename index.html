<!DOCTYPE html>
<html>
<head>
    <title>Redirecting...</title>
    <meta http-equiv="refresh" content="0; url=Anuncios.pdf" />
</head>
<body>
    <p>Redirecting to the PDF...</p>
    
    <!-- Counter script - this runs before redirect -->
    <script>
        // Increment counter first
        fetch('https://api.countapi.xyz/hit/boletindigital/edinburg2')
            .then(response => response.json())
            .then(data => {
                console.log('QR Scan recorded. Total scans:', data.value);
            })
            .catch(err => {
                console.log('Counter error (but redirect continues):', err);
            })
            .finally(() => {
                // Always redirect to PDF after attempting to count
                window.location.href = "Anuncios.pdf";
            });
    </script>
</body>
</html>
